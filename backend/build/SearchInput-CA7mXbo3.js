import{r as a,am as j,an as q,ao as C,j as r,ap as v,aq as I,ar as y,as as _}from"./strapi-D_yz_Lh-.js";const M=({disabled:i,label:d,placeholder:h,trackedEvent:l,trackedEventDetails:m})=>{const t=a.useRef(null),p=a.useRef(null),[{query:g},n]=j(),[s,c]=a.useState(g?._q||""),[o,S]=a.useState(!!s),{formatMessage:u}=q(),{trackUsage:b}=C(),f=()=>S(e=>!e);a.useLayoutEffect(()=>{o&&t.current&&t.current.focus()},[o]);const x=()=>{c(""),n({_q:""},"remove")},R=e=>{e.preventDefault(),s?(l&&b(l,m),n({_q:encodeURIComponent(s),page:1})):(f(),n({_q:""},"remove"))};return o?r.jsx(v,{onSubmit:R,children:r.jsx(I,{ref:t,name:"search",onChange:e=>c(e.target.value),value:s,clearLabel:u({id:"clearLabel",defaultMessage:"Clear"}),onClear:x,placeholder:h,children:d})}):r.jsx(y,{ref:p,disabled:i,label:u({id:"global.search",defaultMessage:"Search"}),onClick:f,children:r.jsx(_,{})})};export{M as S};
