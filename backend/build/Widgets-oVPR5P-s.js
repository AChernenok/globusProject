import{d8 as f,an as c,j as e,ao as T,ae as b,d9 as k,da as w,db as E,dc as l,bg as p,dd as v,ay as d,de as C,df as D,cb as L,az as R,J as M}from"./strapi-D_yz_Lh-.js";import{W as o}from"./WidgetHelpers-NgoFD1vJ.js";const N=f.enhanceEndpoints({addTagTypes:["RecentDocumentList"]}).injectEndpoints({overrideExisting:!0,endpoints:a=>({getRecentDocuments:a.query({query:n=>`/content-manager/homepage/recent-documents?action=${n.action}`,transformResponse:n=>n.data,providesTags:(n,s,{action:i})=>[{type:"RecentDocumentList",id:i}]})})}),{useGetRecentDocumentsQuery:x}=N,u=M(d).attrs({maxWidth:"14.4rem",display:"block"})`
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
`,h=({documents:a})=>{const{formatMessage:n}=c(),{trackUsage:s}=T(),i=b(),g=t=>{const r=t.kind==="singleType",y=r?"single-types":"collection-types",m=t.locale?`?plugins[i18n][locale]=${t.locale}`:"";return`/content-manager/${y}/${t.contentTypeUid}${r?"":"/"+t.documentId}${m}`},j=t=>()=>{s("willEditEntryFromHome");const r=g(t);i(r)};return e.jsx(k,{colCount:5,rowCount:a?.length??0,children:e.jsx(w,{children:a?.map(t=>e.jsxs(E,{onClick:j(t),cursor:"pointer",children:[e.jsx(l,{children:e.jsx(u,{title:t.title,variant:"omega",textColor:"neutral800",children:t.title})}),e.jsx(l,{children:e.jsx(u,{variant:"omega",textColor:"neutral600",children:t.kind==="singleType"?n({id:"content-manager.widget.last-edited.single-type",defaultMessage:"Single-Type"}):n({id:t.contentTypeDisplayName,defaultMessage:t.contentTypeDisplayName})})}),e.jsx(l,{children:e.jsx(p,{display:"inline-block",children:t.status?e.jsx(v,{status:t.status}):e.jsx(d,{textColor:"neutral600","aria-hidden":!0,children:"-"})})}),e.jsx(l,{children:e.jsx(d,{textColor:"neutral600",children:e.jsx(C,{timestamp:new Date(t.updatedAt)})})}),e.jsx(l,{onClick:r=>r.stopPropagation(),children:e.jsx(p,{display:"inline-block",children:e.jsx(D,{tag:L,to:g(t),onClick:()=>s("willEditEntryFromHome"),label:n({id:"content-manager.actions.edit.label",defaultMessage:"Edit"}),variant:"ghost",children:e.jsx(R,{})})})})]},t.documentId))})})},I=()=>{const{formatMessage:a}=c(),{data:n,isLoading:s,error:i}=x({action:"update"});return s?e.jsx(o.Loading,{}):i||!n?e.jsx(o.Error,{}):n.length===0?e.jsx(o.NoData,{children:a({id:"content-manager.widget.last-edited.no-data",defaultMessage:"No edited entries"})}):e.jsx(h,{documents:n})},P=()=>{const{formatMessage:a}=c(),{data:n,isLoading:s,error:i}=x({action:"publish"});return s?e.jsx(o.Loading,{}):i||!n?e.jsx(o.Error,{}):n.length===0?e.jsx(o.NoData,{children:a({id:"content-manager.widget.last-published.no-data",defaultMessage:"No published entries"})}):e.jsx(h,{documents:n})};export{I as LastEditedWidget,P as LastPublishedWidget};
